<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registra tu cambio</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <form id="inicio" class="w-25 m-4">
        <h2>Registrar</h2>
    <div class="form-floating mb-3">
        <input type="text" class="form-control" id="nombre" placeholder="name@example.com">
        <label for="floatingInput">Nombre</label>
      </div>
      <div class="form-floating mb-3" >
        <input type="text" class="form-control" id="apellido" placeholder="Password">
        <label for="floatingPassword">Apellido</label>
      </div>
      <div class="form-floating mb-3">
        <input type="number" class="form-control" id="telefono" placeholder="Password">
        <label for="floatingPassword">Telefono</label>
      </div>

      <button id="confirmar" type="submit" class="btn btn-outline-primary" style="float: right;" >Confirmar</button>
    </form>


    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-analytics.js";
        const firebaseConfig = {
          apiKey: "AIzaSyDlLngo2i5bBqXrF7uWh9Rk7LBetyvHth0",
          authDomain: "boris-f276f.firebaseapp.com",
          projectId: "boris-f276f",
          storageBucket: "boris-f276f.appspot.com",
          messagingSenderId: "277241048439",
          appId: "1:277241048439:web:c3c73d6263c6eeb5204572",
          measurementId: "G-0EJS7NMRLK"
        };

      const app = initializeApp(firebaseConfig);
     
      </script>
      
      <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-app-compat.js"></script>
      <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore-compat.js"></script>
  
    <script>
      function guardar() {
    let db = firebase.firestore();
    let nombre = document.getElementById('nombre').value;
    let apellido = document.getElementById('apellido').value;
    let telefono = document.getElementById('telefono').value;

    db.collection("usuario").add({
        nombre: nombre,
        apellido: apellido,
        telefono: telefono
    })
    .then((docRef) => {
        console.log("Document written with ID: ", docRef.id);
        // Aquí podrías agregar cualquier lógica adicional que desees realizar después de guardar los datos
    })
    .catch((error) => {
        console.error("Error adding document: ", error);
    });
}

      </script>
      <script>
        document.getElementById('confirmar').addEventListener('click', function(guardar) {
            event.preventDefault(); // Para prevenir el comportamiento predeterminado del formulario (por si acaso)
            guardar(); // Llama a la función guardar() cuando se haga clic en el botón
        });
    </script>
    
</body>
</html>
